# 遊戲設計文檔

## 核心機制

### 1. 重量限制系統 (Weight Constraint System)

**目的：** 強迫玩家做出艱難的策略選擇

**規則：**
- 最大承重：10 kg
- 無法全選所有正確物資（總重量超過限制）
- 必須根據未知的災難類型進行預測性選擇

**設計意圖：**
```
所有正確物資總重 = 3 + 2 + 2 + 2 + 2 + 2 + 1 + 1 + 0.5 = 15.5 kg
最大承重 = 10 kg
缺口 = 5.5 kg

→ 玩家必須放棄至少 5.5 kg 的正確物資
→ 大約只能選擇 5-6 個物品
→ 每次遊戲都需要不同的策略
```

### 2. 隨機事件系統 (Random Event System)

**觸發時機：** 災難發生前

**機制：**
1. 從玩家選擇的物資中隨機選一個
2. 正確物資：60% 正面事件，40% 負面事件
3. 錯誤物資：100% 負面事件

**教育意義：**
- 正面事件：展示物資的額外用途（分享、救人、互助）
- 負面事件：教導維護和檢查的重要性（過期、損壞、潮濕）

### 3. 動態選項系統 (Dynamic Choice System)

**運作方式：**
- 災難場景根據玩家物資生成不同選項
- 有物資 → 正面結果
- 無物資 → 負面結果或無法選擇

**範例：**
```
場景：颱風停電
- 有手電筒 + 收音機 → 安全度過 (+20 分)
- 只有手電筒 → 勉強應對 (+5 分)
- 沒有手電筒 → 黑暗中受傷 (-30 HP, -10 分)
```

## 平衡性設計

### 物資重要性分級

**Tier S（必備，3-4 kg）：**
- 水 (3kg) - 生存基本需求
- 手電筒 (1kg) - 多場景通用

**Tier A（高優先，2 kg）：**
- 食物 (2kg) - 維持體力
- 急救箱 (2kg) - 處理傷勢
- 收音機 (2kg) - 接收資訊

**Tier B（情境性，1-2 kg）：**
- 保暖衣物 (2kg) - 特定場景重要
- 繩索 (2kg) - 救援用途
- 行動電源 (1kg) - 現代需求

**Tier C（輔助，0.5-1 kg）：**
- 證件 (0.5kg) - 避難所登記
- 哨子（已包含在手電筒中）

### 推薦配置

**均衡型（9.5 kg）：**
- 水 (3) + 食物 (2) + 收音機 (2) + 急救箱 (2) + 證件 (0.5)
- 優點：全面覆蓋基本需求
- 缺點：缺少照明和保暖

**生存型（10 kg）：**
- 水 (3) + 手電筒 (1) + 急救箱 (2) + 食物 (2) + 繩索 (2)
- 優點：應對緊急狀況能力強
- 缺點：缺少資訊來源

**資訊型（9.5 kg）：**
- 水 (3) + 收音機 (2) + 手電筒 (1) + 行動電源 (1) + 保暖衣物 (2) + 證件 (0.5)
- 優點：通訊和資訊完整
- 缺點：缺少醫療和食物

## 災難類型與物資對應

### 地震
**關鍵物資：**
1. 哨子 - 受困求救
2. 收音機 - 餘震警報
3. 急救箱 - 處理傷勢

### 颱風
**關鍵物資：**
1. 手電筒 - 停電照明
2. 收音機 - 掌握災情
3. 食物/水 - 長期避難

### 空襲
**關鍵物資：**
1. 水/食物 - 避難所長期等待
2. 收音機 - 撤離資訊
3. 證件 - 避難所登記
4. 保暖衣物 - 避難所禦寒

## 評分系統

### 分數來源
- 物資選擇：-50 ~ +80 分
- 隨機事件：-30 ~ +25 分
- 災難應對：-30 ~ +60 分
- 最終 HP：0 ~ 100 分
- 最終 Sanity：0 ~ 100 分

### 等級門檻
- S 級：250+ 分（完美準備 + 正確決策）
- A 級：200-249 分（良好準備 + 多數正確）
- B 級：150-199 分（基本準備 + 部分錯誤）
- C 級：0-149 分（準備不足或重大失誤）
- 死亡：HP 歸零

## 重玩價值 (Replayability)

### 變數因素
1. **物資選擇** - 12 種物品，只能選 4-6 個 → 數百種組合
2. **隨機事件** - 每個物品 1-2 種事件 → 不同開局
3. **災難類型** - 3 種災難隨機 → 不同挑戰
4. **動態選項** - 根據物資產生不同路徑 → 多重結局

### 學習曲線
- **第一次遊玩：** 隨意選擇 → 可能死亡或低分 → 了解機制
- **第二次遊玩：** 全選正確物資 → 超重無法確認 → 理解限制
- **第三次遊玩：** 策略性選擇 → 應對特定災難 → 獲得高分
- **後續遊玩：** 嘗試不同組合 → 探索所有事件和路徑

## AI 擴展指南

### 添加新災難的檢查清單
- [ ] 定義災難的關鍵物資（3-4 個）
- [ ] 創建 3-5 個場景節點
- [ ] 至少 2 個動態選項場景
- [ ] 確保每個關鍵物資都有用途
- [ ] 測試無物資的負面路徑
- [ ] 平衡分數獎懲（-30 ~ +30）

### 添加新物資的檢查清單
- [ ] 設定合理重量（0.5-3 kg）
- [ ] 創建正面事件（如果是正確物資）
- [ ] 創建負面事件（維護/檢查相關）
- [ ] 在至少 1 個災難中有用途
- [ ] 更新 README 的物資表格
- [ ] 測試重量平衡（不破壞選擇難度）

### 平衡性測試
```javascript
// 測試腳本概念
function testBalance() {
    // 1. 全選正確物資應該超重
    const correctItems = INVENTORY_ITEMS.filter(i => i.correct);
    const totalCorrectWeight = correctItems.reduce((sum, i) => sum + i.weight, 0);
    assert(totalCorrectWeight > CONFIG.MAX_WEIGHT, "正確物資總重應超過限制");
    
    // 2. 應該能選擇 4-6 個正確物資
    const avgWeight = totalCorrectWeight / correctItems.length;
    const estimatedCapacity = CONFIG.MAX_WEIGHT / avgWeight;
    assert(estimatedCapacity >= 4 && estimatedCapacity <= 6, "應能選 4-6 個物品");
    
    // 3. 錯誤物資應該很重
    const wrongItems = INVENTORY_ITEMS.filter(i => !i.correct);
    const avgWrongWeight = wrongItems.reduce((sum, i) => sum + i.weight, 0) / wrongItems.length;
    assert(avgWrongWeight > avgWeight * 1.5, "錯誤物資應該更重");
}
```

## 教育目標

### 主要學習點
1. **優先順序判斷** - 在有限資源下做出選擇
2. **風險評估** - 預測可能的災難類型
3. **裝備維護** - 定期檢查和更新避難包
4. **應變能力** - 根據現有資源做出最佳決策
5. **互助精神** - 物資可以幫助他人並獲得回報

### 次要學習點
1. 不同災難的正確應對方式
2. 避難包的實際重量考量
3. 錯誤物資的負面影響
4. 證件和現金的重要性
5. 通訊設備在現代災難中的角色
